import {Page} from 'puppeteer';

const TIME_TO_SECONDS = {
    Seconds: 1,
    Minute: 60,
    Minutes: 60,
} as {[key: string]: number};

export const getRandomAwaitTime = (min = 500, max = 1500) => Math.floor(Math.random() * (max - min) + min);

export const getSecondsFromTime = (expiredTimeText: string) => {
    if (expiredTimeText.split(' ').length !== 2) {
        return null;
    }
    const [timeToExpireText, magnitudeTime] = expiredTimeText.split(' ');

    const expiredValueText = timeToExpireText.split('<');
    let expiredValue;
    if (expiredValueText.length > 1) {
        expiredValue = expiredValueText[1];
    } else {
        expiredValue = expiredValueText[0];
    }
    const multiplyBySeconds = TIME_TO_SECONDS[magnitudeTime];

    return Number(expiredValue) * multiplyBySeconds;
};

export const playAudio = async (page: Page) => {
    await page.evaluate(async () => {
        const audio = new Audio(
            'data:audio/wav;base64,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'
        );
        audio.play();
    });
};
